openapi: 3.0.3
info:
  title: Salesforce REST API
  description: |
    Salesforce REST API including Bulk API v2.0 for programmatic access to
    Salesforce data and metadata operations.
  version: 1.0.0
  contact:
    name: Salesforce Developers
    url: https://developer.salesforce.com

servers:
  - url: https://{instance}.salesforce.com/services/data/v{apiVersion}
    description: Salesforce instance
    variables:
      instance:
        default: yourinstance.my.salesforce
        description: Your Salesforce instance domain
      apiVersion:
        default: "65.0"
        description: Salesforce API version

security:
  - bearerAuth: []

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: OAuth 2.0 Bearer token

  schemas:
    # Common Enums
    JobState:
      type: string
      enum:
        - Open
        - UploadComplete
        - InProgress
        - JobComplete
        - Failed
        - Aborted
      description: Current state of the job

    QueryOperation:
      type: string
      enum:
        - query
        - queryAll
      description: Type of query operation

    IngestOperation:
      type: string
      enum:
        - insert
        - update
        - upsert
        - delete
        - hardDelete
      description: Type of ingest operation

    ContentType:
      type: string
      enum:
        - CSV
      description: Format of the data

    ColumnDelimiter:
      type: string
      enum:
        - BACKQUOTE
        - CARET
        - COMMA
        - PIPE
        - SEMICOLON
        - TAB
      default: COMMA
      description: CSV column delimiter

    LineEnding:
      type: string
      enum:
        - LF
        - CRLF
      default: LF
      description: Line ending format

    ConcurrencyMode:
      type: string
      enum:
        - Parallel
      description: Job processing concurrency mode

    JobType:
      type: string
      enum:
        - V2Query
        - V2Ingest
        - BigObjectIngest
        - Classic
      description: Type of bulk job

    # Error Response
    Error:
      type: object
      required:
        - errorCode
        - message
      properties:
        errorCode:
          type: string
          description: Error code identifier
        message:
          type: string
          description: Descriptive error message

    ErrorResponse:
      type: array
      items:
        $ref: '#/components/schemas/Error'

    # Query Job Schemas
    CreateQueryJobRequest:
      type: object
      required:
        - operation
        - query
      properties:
        operation:
          $ref: '#/components/schemas/QueryOperation'
        query:
          type: string
          description: SOQL query string to execute
          example: "SELECT Id, Name FROM Account WHERE Industry = 'Technology'"
        contentType:
          $ref: '#/components/schemas/ContentType'
        columnDelimiter:
          $ref: '#/components/schemas/ColumnDelimiter'
        lineEnding:
          $ref: '#/components/schemas/LineEnding'

    QueryJobInfo:
      type: object
      required:
        - id
        - operation
        - object
        - createdById
        - createdDate
        - systemModstamp
        - state
        - concurrencyMode
        - contentType
        - apiVersion
      properties:
        id:
          type: string
          description: Unique job identifier (18-character Salesforce ID)
          example: "750xx0000000001AAA"
        operation:
          $ref: '#/components/schemas/QueryOperation'
        object:
          type: string
          description: Salesforce object being queried (derived from SOQL)
          example: "Account"
        createdById:
          type: string
          description: User ID who created the job
          example: "005xx000000000FAAQ"
        createdDate:
          type: string
          format: date-time
          description: Job creation timestamp in ISO 8601 format
          example: "2024-01-15T10:30:00.000Z"
        systemModstamp:
          type: string
          format: date-time
          description: Last modified timestamp in ISO 8601 format
          example: "2024-01-15T10:30:00.000Z"
        state:
          $ref: '#/components/schemas/JobState'
        concurrencyMode:
          $ref: '#/components/schemas/ConcurrencyMode'
        contentType:
          $ref: '#/components/schemas/ContentType'
        apiVersion:
          type: number
          format: float
          description: API version used for the job
          example: 65.0
        jobType:
          $ref: '#/components/schemas/JobType'
        lineEnding:
          $ref: '#/components/schemas/LineEnding'
        columnDelimiter:
          $ref: '#/components/schemas/ColumnDelimiter'
        numberRecordsProcessed:
          type: integer
          description: Number of records processed (only present after job completion)
          example: 1000
        retries:
          type: integer
          description: Number of retry attempts
          example: 0
        totalProcessingTime:
          type: integer
          description: Total processing time in milliseconds
          example: 249
        isPkChunkingSupported:
          type: boolean
          description: Whether PK chunking is supported for the queried object
          example: true

    QueryJobList:
      type: object
      required:
        - done
        - records
      properties:
        done:
          type: boolean
          description: Whether there are more records beyond this page
          example: true
        records:
          type: array
          description: List of query jobs
          items:
            $ref: '#/components/schemas/QueryJobInfo'
        nextRecordsUrl:
          type: string
          description: URL to retrieve the next page of results (if done is false)
          example: "/services/data/v65.0/jobs/query?locator=xxx"

    QueryResultPage:
      type: object
      required:
        - resultUrl
      properties:
        resultUrl:
          type: string
          description: The request URI with the locator for getting data
          example: "/services/data/v65.0/jobs/query/750R0000000zxr8IAA/results?locator=aBcDeFg4N"

    QueryResultPages:
      type: object
      required:
        - resultPages
        - done
      properties:
        resultPages:
          type: array
          description: Contains the resultUrl URIs (up to 5 per response)
          items:
            $ref: '#/components/schemas/QueryResultPage'
        nextRecordsUrl:
          type: string
          description: The URI used to get the next set of resultPages
          example: "/services/data/v65.0/jobs/query/750R0000000zxr8IAA/resultPages?locator=YcApWm4N"
        done:
          type: boolean
          description: A Boolean value that indicates whether more resultUrl URIs are available
          example: false

    # Ingest Job Schemas
    CreateIngestJobRequest:
      type: object
      required:
        - object
        - operation
      properties:
        object:
          type: string
          description: Salesforce object API name
          example: "Account"
        operation:
          $ref: '#/components/schemas/IngestOperation'
        contentType:
          $ref: '#/components/schemas/ContentType'
        externalIdFieldName:
          type: string
          description: External ID field name (required for upsert operations)
          example: "ExternalId__c"
        assignmentRuleId:
          type: string
          description: Assignment rule ID for Cases or Leads
          example: "01Qxx000000000FEAQ"
        columnDelimiter:
          $ref: '#/components/schemas/ColumnDelimiter'
        lineEnding:
          $ref: '#/components/schemas/LineEnding'

    IngestJobInfo:
      type: object
      required:
        - id
        - operation
        - object
        - createdById
        - createdDate
        - systemModstamp
        - state
        - concurrencyMode
        - contentType
        - apiVersion
      properties:
        id:
          type: string
          description: Unique job identifier (18-character Salesforce ID)
          example: "750xx0000000002AAA"
        operation:
          $ref: '#/components/schemas/IngestOperation'
        object:
          type: string
          description: Salesforce object API name
          example: "Account"
        createdById:
          type: string
          description: User ID who created the job
          example: "005xx000000000FAAQ"
        createdDate:
          type: string
          format: date-time
          description: Job creation timestamp in ISO 8601 format
          example: "2024-01-15T10:30:00.000Z"
        systemModstamp:
          type: string
          format: date-time
          description: Last modified timestamp in ISO 8601 format
          example: "2024-01-15T10:30:00.000Z"
        state:
          $ref: '#/components/schemas/JobState'
        externalIdFieldName:
          type: string
          description: External ID field name (if specified for upsert)
          example: "ExternalId__c"
        concurrencyMode:
          $ref: '#/components/schemas/ConcurrencyMode'
        contentType:
          $ref: '#/components/schemas/ContentType'
        apiVersion:
          type: number
          format: float
          description: API version used for the job
          example: 65.0
        contentUrl:
          type: string
          description: Relative URL to upload data
          example: "services/data/v65.0/jobs/ingest/750xx0000000002AAA/batches"
        jobType:
          $ref: '#/components/schemas/JobType'
        lineEnding:
          $ref: '#/components/schemas/LineEnding'
        columnDelimiter:
          $ref: '#/components/schemas/ColumnDelimiter'
        numberRecordsProcessed:
          type: integer
          description: Number of records processed
          example: 5000
        numberRecordsFailed:
          type: integer
          description: Number of records that failed
          example: 10
        retries:
          type: integer
          description: Number of retry attempts
          example: 0
        totalProcessingTime:
          type: integer
          description: Total processing time in milliseconds
          example: 12500
        apiActiveProcessingTime:
          type: integer
          description: API processing time in milliseconds
          example: 8200
        apexProcessingTime:
          type: integer
          description: Apex trigger/workflow time in milliseconds
          example: 3100
        assignmentRuleId:
          type: string
          description: The ID of an assignment rule for Cases or Leads
          example: "01Qxx000000000FEAQ"
        errorMessage:
          type: string
          description: Error message for jobs with errors

paths:
  /jobs/query:
    get:
      summary: Get All Query Jobs
      description: |
        Retrieves information about all query jobs in the org. Results can be filtered
        by query parameters.
      operationId: getAllQueryJobs
      tags:
        - BulkQuery
      parameters:
        - name: isPkChunkingEnabled
          in: query
          required: false
          description: Filter jobs by whether PK chunking is enabled (applies to Bulk API jobs only)
          schema:
            type: boolean
          example: false
        - name: jobType
          in: query
          required: false
          description: Filter by job type
          schema:
            $ref: '#/components/schemas/JobType'
          example: "V2Query"
        - name: concurrencyMode
          in: query
          required: false
          description: For future use. Filter by concurrency mode (currently only parallel is supported)
          schema:
            $ref: '#/components/schemas/ConcurrencyMode'
          example: "Parallel"
        - name: queryLocator
          in: query
          required: false
          description: Pagination locator. Use the value from nextRecordsUrl from the previous response.
          schema:
            type: string
      responses:
        '200':
          description: Query jobs retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryJobList'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    post:
      summary: Create Query Job
      description: |
        Creates a new bulk query job to asynchronously query large data sets.
        The job uses SOQL to define the data to extract.
      operationId: createQueryJob
      tags:
        - BulkQuery
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateQueryJobRequest'
      responses:
        '200':
          description: Query job created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryJobInfo'
        '400':
          description: Bad request (invalid input)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Forbidden (insufficient permissions)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/query/{jobId}:
    get:
      summary: Get Query Job Information
      description: |
        Retrieves detailed information about a specific query job including its current state
        and processing metrics.
      operationId: getQueryJob
      tags:
        - BulkQuery
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the query job
          schema:
            type: string
          example: "750xx0000000001AAA"
      responses:
        '200':
          description: Query job information retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryJobInfo'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    delete:
      summary: Delete Query Job
      description: |
        Deletes a query job. Once deleted, the job cannot be retrieved.
      operationId: deleteQueryJob
      tags:
        - BulkQuery
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the query job to delete
          schema:
            type: string
          example: "750xx0000000001AAA"
      responses:
        '204':
          description: Query job deleted successfully
        '400':
          description: Bad request (job cannot be deleted in current state)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    patch:
      summary: Abort Query Job
      description: |
        Aborts a query job by changing its state to Aborted. This stops processing
        but does not delete the job.
      operationId: abortQueryJob
      tags:
        - BulkQuery
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the query job to abort
          schema:
            type: string
          example: "750xx0000000001AAA"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - state
              properties:
                state:
                  type: string
                  enum:
                    - Aborted
                  description: Must be set to "Aborted" to abort the job
            example:
              state: "Aborted"
      responses:
        '200':
          description: Query job aborted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryJobInfo'
        '400':
          description: Bad request (invalid state or job cannot be aborted)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/query/{jobId}/results:
    get:
      summary: Get Query Job Results
      description: |
        Retrieves the results of a completed query job. Results are returned in CSV format.
        For large result sets, use pagination with the locator parameter.
      operationId: getQueryJobResults
      tags:
        - BulkQuery
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the query job
          schema:
            type: string
          example: "750xx0000000001AAA"
        - name: maxRecords
          in: query
          required: false
          description: Maximum number of records to return per request
          schema:
            type: integer
            minimum: 1
            maximum: 50000
            default: 50000
          example: 5000
        - name: locator
          in: query
          required: false
          description: |
            Locator value for pagination. Use the value from the Sforce-Locator header
            of the previous response to retrieve the next page of results.
          schema:
            type: string
          example: "null"
      responses:
        '200':
          description: Query results retrieved successfully
          headers:
            Sforce-Locator:
              description: |
                Locator for the next page of results. Value is "null" if this is the last page.
              schema:
                type: string
              example: "null"
            Sforce-NumberOfRecords:
              description: Number of records included in this response
              schema:
                type: integer
              example: 1000
          content:
            text/csv:
              schema:
                type: string
                description: CSV data with query results
              example: |
                "Id","Name","Industry"
                "001xx000000001AAA","Acme Corp","Technology"
                "001xx000000002AAA","Global Inc","Finance"
        '400':
          description: Bad request (invalid parameters or job not complete)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found or results not ready
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/query/{jobId}/resultPages:
    get:
      summary: Get Parallel Results for a Query Job
      description: |
        Returns up to five URIs in one response to use to get results for a query job in parallel.
        The job must have the state jobComplete. Use the same API version that you used to create
        the query, otherwise the call returns a 409 error.
      operationId: getQueryJobResultPages
      tags:
        - BulkQuery
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the query job
          schema:
            type: string
          example: "750R0000000zxr8IAA"
        - name: locator
          in: query
          required: false
          description: Locator for pagination of result pages
          schema:
            type: string
      responses:
        '200':
          description: Result pages retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryResultPages'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found or not complete
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: API version mismatch
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/ingest:
    get:
      summary: Get Information About All Ingest Jobs
      description: |
        Retrieves detailed information about all ingest jobs in the org. Job records are
        returned in an indeterminate order.
      operationId: getAllIngestJobs
      tags:
        - BulkIngest
      parameters:
        - name: isPkChunkingEnabled
          in: query
          required: false
          description: Filter jobs by whether PK chunking is enabled
          schema:
            type: boolean
        - name: jobType
          in: query
          required: false
          description: Filter by job type
          schema:
            $ref: '#/components/schemas/JobType'
        - name: queryLocator
          in: query
          required: false
          description: Pagination locator from nextRecordsUrl
          schema:
            type: string
      responses:
        '200':
          description: Ingest jobs retrieved successfully
          content:
            application/json:
              schema:
                type: object
                required:
                  - done
                  - records
                properties:
                  done:
                    type: boolean
                    description: Whether there are more jobs beyond this page
                  records:
                    type: array
                    description: List of ingest jobs
                    items:
                      $ref: '#/components/schemas/IngestJobInfo'
                  nextRecordsUrl:
                    type: string
                    description: URL to retrieve the next page of results
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    post:
      summary: Create Ingest Job
      description: |
        Creates a new bulk ingest job to load, update, upsert, or delete large data sets.
        After creating the job, upload data and then close the job to begin processing.
      operationId: createIngestJob
      tags:
        - BulkIngest
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateIngestJobRequest'
      responses:
        '200':
          description: Ingest job created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestJobInfo'
        '400':
          description: Bad request (invalid input)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Forbidden (insufficient permissions)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/ingest/{jobId}:
    get:
      summary: Get Ingest Job Information
      description: |
        Retrieves detailed information about a specific ingest job including its current state
        and processing metrics.
      operationId: getIngestJob
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job
          schema:
            type: string
          example: "750xx0000000002AAA"
      responses:
        '200':
          description: Ingest job information retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestJobInfo'
        '401':
          description: Unauthorized (invalid or missing access token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    patch:
      summary: Update Ingest Job State
      description: |
        Updates the state of an ingest job. Use this to mark a job as UploadComplete
        (ready for processing) or Aborted (cancel processing).
      operationId: updateIngestJobState
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job
          schema:
            type: string
          example: "750xx0000000002AAA"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - state
              properties:
                state:
                  $ref: '#/components/schemas/JobState'
                  description: Use UploadComplete to mark ready for processing, or Aborted to cancel
      responses:
        '200':
          description: Job state updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestJobInfo'
        '400':
          description: Bad request (invalid state transition)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    delete:
      summary: Delete Ingest Job
      description: |
        Deletes an ingest job. The job must be in UploadComplete, JobComplete, Aborted, or Failed state.
        When deleted, job data and metadata are permanently removed.
      operationId: deleteIngestJob
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job to delete
          schema:
            type: string
          example: "750xx0000000002AAA"
      responses:
        '204':
          description: Job deleted successfully
        '400':
          description: Bad request (job in invalid state for deletion)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/ingest/{jobId}/batches:
    put:
      summary: Upload Job Data
      description: |
        Uploads CSV data for the ingest job. The data must not exceed 100 MB to account
        for base64 encoding (which can increase size by ~50%).
      operationId: uploadIngestJobData
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job
          schema:
            type: string
          example: "750xx0000000002AAA"
      requestBody:
        required: true
        content:
          application/octet-stream:
            schema:
              type: string
              format: binary
              description: CSV data with records to process
      responses:
        '200':
          description: Data uploaded successfully
        '201':
          description: Data uploaded successfully
        '400':
          description: Bad request (invalid CSV data or job not in Open state)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/ingest/{jobId}/successfulResults:
    get:
      summary: Get Job Successful Record Results
      description: |
        Retrieves a CSV file containing all successfully processed records for a completed job.
      operationId: getIngestJobSuccessfulResults
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job
          schema:
            type: string
          example: "750xx0000000002AAA"
      responses:
        '200':
          description: Successful results retrieved
          content:
            text/csv:
              schema:
                type: string
                description: CSV data with sf__Created, sf__Id, and original fields
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found or not complete
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/ingest/{jobId}/failedResults:
    get:
      summary: Get Job Failed Record Results
      description: |
        Retrieves a CSV file containing all failed records with error information for a completed job.
      operationId: getIngestJobFailedResults
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job
          schema:
            type: string
          example: "750xx0000000002AAA"
      responses:
        '200':
          description: Failed results retrieved
          content:
            text/csv:
              schema:
                type: string
                description: CSV data with sf__Error, sf__Id, and original fields
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found or not complete
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /jobs/ingest/{jobId}/unprocessedrecords:
    get:
      summary: Get Job Unprocessed Record Results
      description: |
        Retrieves a CSV file containing all unprocessed records for failed or aborted jobs.
      operationId: getIngestJobUnprocessedResults
      tags:
        - BulkIngest
      parameters:
        - name: jobId
          in: path
          required: true
          description: The unique identifier of the ingest job
          schema:
            type: string
          example: "750xx0000000002AAA"
      responses:
        '200':
          description: Unprocessed results retrieved
          content:
            text/csv:
              schema:
                type: string
                description: CSV data with original fields for unprocessed records
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Job not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

tags:
  - name: BulkQuery
    description: Bulk API v2.0 operations for querying large data sets asynchronously
  - name: BulkIngest
    description: Bulk API v2.0 operations for loading, updating, or deleting large data sets
